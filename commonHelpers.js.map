{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '45270476-0e4dc869b670f41fd1cb8efc7';\n\nexport const fetchImages = async (queryText, page = 1) => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: queryText,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    // safesearch: false,\n    page: page,\n    per_page: 15,\n  });\n\n  const response = await axios.get(`https://pixabay.com/api/?${searchParams}`);\n  console.log(response);\n  return response.data;\n};\n","export const markup = imagesArray =>\n  imagesArray\n    .map(image => {\n      return `  <div class=\"gallery-card\">\n        <a href=\"${image.largeImageURL}\" class=\"gallery-card-link\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" class=\"gallery-card-img\" />\n          <ul class=\"gallery-card-info\">\n            <li class=\"gallery-card-info-item\">\n              <p class=\"gallery-card-info-name\">Likes</p>\n              <p class=\"gallery-card-info-value\">${image.likes}</p>\n            </li>\n            <li class=\"gallery-card-info-item\">\n              <p class=\"gallery-card-info-name\">Views</p>\n              <p class=\"gallery-card-info-value\">${image.views}</p>\n            </li> \n            <li class=\"gallery-card-info-item\">\n              <p class=\"gallery-card-info-name\">Comments</p>\n              <p class=\"gallery-card-info-value\">${image.comments}</p>\n            </li>\n            <li class=\"gallery-card-info-item\">\n              <p class=\"gallery-card-info-name\">Downloads</p>\n              <p class=\"gallery-card-info-value\">${image.downloads}</p>\n            </li>\n          </ul>\n          </a>\n        </div>`;\n    })\n    .join('');\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport { fetchImages as pixabayFetchImages } from './js/pixabay-api';\nimport { markup } from './js/render-functions';\n\nconst MSG_NO_RESULTS =\n  'Sorry, there are no images matching your search query. Please try again.';\n\nconst searchForm = document.querySelector('.search-form');\nconst searchInput = document.querySelector('.search-text');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet searhText = '';\n\nconst onSearch = event => {\n  event.preventDefault();\n  const searhText = searchInput.value.trim();\n  searchInput.value = '';\n\n  if (searhText === '') {\n    iziToast.error({\n      position: 'topRight',\n      title: 'Error',\n      message: 'Enter text',\n    });\n    return;\n  }\n\n  gallery.innerHTML = '';\n  loader.style.display = 'block';\n\n  let page = 1;\n\n  pixabayFetchImages(searhText)\n    .then(images => {\n      if (images.hits.length === 0) {\n        iziToast.error({\n          position: 'topRight',\n          title: 'Error',\n          message: MSG_NO_RESULTS,\n        });\n        return;\n      }\n\n      gallery.innerHTML = markup(images.hits);\n\n      galleryLightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n};\n\nsearchForm.addEventListener('submit', onSearch);\n\nlet galleryLightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n  // animationSlide: false,\n  animationSpeed: 150,\n  fadeSpeed: 150,\n});\n"],"names":["API_KEY","fetchImages","queryText","page","searchParams","response","axios","markup","imagesArray","image","MSG_NO_RESULTS","searchForm","searchInput","gallery","loader","onSearch","event","searhText","iziToast","pixabayFetchImages","images","galleryLightbox","error","SimpleLightbox"],"mappings":"owBAEA,MAAMA,EAAU,qCAEHC,EAAc,MAAOC,EAAWC,EAAO,IAAM,CACxD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GAEZ,KAAMC,EACN,SAAU,EACd,CAAG,EAEKE,EAAW,MAAMC,EAAM,IAAI,4BAA4BF,CAAY,EAAE,EAC3E,eAAQ,IAAIC,CAAQ,EACbA,EAAS,IAClB,ECnBaE,EAASC,GACpBA,EACG,IAAIC,GACI;AAAA,mBACMA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,mDAITA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,mDAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,mDAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,mDAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,eAK7D,EACA,KAAK,EAAE,ECtBNC,EACJ,2EAEIC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAIzCC,EAAWC,GAAS,CACxBA,EAAM,eAAc,EACpB,MAAMC,EAAYL,EAAY,MAAM,KAAI,EAGxC,GAFAA,EAAY,MAAQ,GAEhBK,IAAc,GAAI,CACpBC,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QAAS,YACf,CAAK,EACD,MACD,CAEDL,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,QAIvBK,EAAmBF,CAAS,EACzB,KAAKG,GAAU,CACd,GAAIA,EAAO,KAAK,SAAW,EAAG,CAC5BF,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QAASR,CACnB,CAAS,EACD,MACD,CAEDG,EAAQ,UAAYN,EAAOa,EAAO,IAAI,EAEtCC,EAAgB,QAAO,CAC7B,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbR,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL,EAEAH,EAAW,iBAAiB,SAAUI,CAAQ,EAE9C,IAAIM,EAAkB,IAAIE,EAAe,aAAc,CACrD,SAAU,GACV,aAAc,MACd,aAAc,IAEd,eAAgB,IAChB,UAAW,GACb,CAAC"}