{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '45270476-0e4dc869b670f41fd1cb8efc7';\n\nexport const fetchImages = queryText => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: queryText,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    // safesearch: false,\n    page: 1,\n    per_page: 9,\n  });\n\n  return fetch(`https://pixabay.com/api/?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json();\n    })\n    .catch(error => console.log(error));\n};\n","export const markup = imagesArray =>\n  imagesArray\n    .map(image => {\n      return `  <div class=\"gallery-card\">\n        <a href=\"${image.largeImageURL}\" class=\"gallery-card-link\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" class=\"gallery-card-img\" />\n          <ul class=\"gallery-card-info\">\n            <li class=\"gallery-card-info-item\">\n              <p class=\"gallery-card-info-name\">Likes</p>\n              <p class=\"gallery-card-info-value\">${image.likes}</p>\n            </li>\n            <li class=\"gallery-card-info-item\">\n              <p class=\"gallery-card-info-name\">Views</p>\n              <p class=\"gallery-card-info-value\">${image.views}</p>\n            </li> \n            <li class=\"gallery-card-info-item\">\n              <p class=\"gallery-card-info-name\">Comments</p>\n              <p class=\"gallery-card-info-value\">${image.comments}</p>\n            </li>\n            <li class=\"gallery-card-info-item\">\n              <p class=\"gallery-card-info-name\">Downloads</p>\n              <p class=\"gallery-card-info-value\">${image.downloads}</p>\n            </li>\n          </ul>\n          </a>\n        </div>`;\n    })\n    .join('');\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport { fetchImages as pixabayFetchImages } from './js/pixabay-api';\nimport { markup } from './js/render-functions';\n\nconst MSG_NO_RESULTS =\n  'Sorry, there are no images matching your search query. Please try again.';\n\nconst searchForm = document.querySelector('.search-form');\nconst searchInput = document.querySelector('.search-text');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet searhText = '';\n\nconst onSearch = event => {\n  event.preventDefault();\n  searhText = searchInput.value.trim();\n  searchInput.value = '';\n\n  if (searhText === '') {\n    iziToast.error({\n      position: 'topRight',\n      title: 'Error',\n      message: 'Enter text',\n    });\n    return;\n  }\n\n  gallery.innerHTML = '';\n\n  loader.style.display = 'block';\n  pixabayFetchImages(searhText)\n    .then(images => {\n      if (images.hits.length === 0) {\n        iziToast.error({\n          position: 'topRight',\n          title: 'Error',\n          message: MSG_NO_RESULTS,\n        });\n        return;\n      }\n\n      gallery.innerHTML = markup(images.hits);\n\n      galleryLightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n    });\n};\n\nsearchForm.addEventListener('submit', onSearch);\n\nlet galleryLightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n  // animationSlide: false,\n  animationSpeed: 150,\n  fadeSpeed: 150,\n});\n"],"names":["API_KEY","fetchImages","queryText","searchParams","response","error","markup","imagesArray","image","MSG_NO_RESULTS","searchForm","searchInput","gallery","loader","searhText","onSearch","event","iziToast","pixabayFetchImages","images","galleryLightbox","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAU,qCAEHC,EAAcC,GAAa,CACtC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GAEZ,KAAM,EACN,SAAU,CACd,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EACpD,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,ECtBaC,EAASC,GACpBA,EACG,IAAIC,GACI;AAAA,mBACMA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,mDAITA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,mDAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,mDAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,mDAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,eAK7D,EACA,KAAK,EAAE,ECtBNC,EACJ,2EAEIC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAY,GAEhB,MAAMC,EAAWC,GAAS,CAKxB,GAJAA,EAAM,eAAc,EACpBF,EAAYH,EAAY,MAAM,OAC9BA,EAAY,MAAQ,GAEhBG,IAAc,GAAI,CACpBG,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QAAS,YACf,CAAK,EACD,MACD,CAEDL,EAAQ,UAAY,GAEpBC,EAAO,MAAM,QAAU,QACvBK,EAAmBJ,CAAS,EACzB,KAAKK,GAAU,CACd,GAAIA,EAAO,KAAK,SAAW,EAAG,CAC5BF,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QAASR,CACnB,CAAS,EACD,MACD,CAEDG,EAAQ,UAAYN,EAAOa,EAAO,IAAI,EAEtCC,EAAgB,QAAO,CAC7B,CAAK,EACA,MAAMf,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbQ,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL,EAEAH,EAAW,iBAAiB,SAAUK,CAAQ,EAE9C,IAAIK,EAAkB,IAAIC,EAAe,aAAc,CACrD,SAAU,GACV,aAAc,MACd,aAAc,IAEd,eAAgB,IAChB,UAAW,GACb,CAAC"}